(function(){(function(a){return a.fn.ajaxChosen=function(y,z){var b,v,r,e;b={minLength:3,queryLimit:10,delay:100,chosenOptions:{},searchingText:"Searching...",noresultsText:"No results."};a.extend(b,y);b.chosenOptions.no_results_text=b.searchingText;e=this;v=(r=e.attr("multiple")!=null)?".search-field > input":".chzn-search > input";e.chosen(b.chosenOptions);return e.next(".chzn-container").find(v).bind("keyup",function(){var w=this;this.previousSearch&&clearTimeout(this.previousSearch);return this.previousSearch=
setTimeout(function(){var q,j,f,s,m;f=a(w);m=a.trim(f.attr("value"));s=(q=f.data("prevVal"))!=null?q:"";f.data("prevVal",m);q=function(){return(r?f.parent().parent().siblings():f.parent().parent()).find(".no-results").html(b.noresultsText+" '"+a(w).attr("value")+"'")};if(m.length<b.minLength||m===s){q();return false}j=e.find("option");if(j.length<b.queryLimit&&m.indexOf(s)===0&&s!==""){q();return false}b.term=m;return z(b,function(t,x){var g,n,h,i,u;if(f.is(":focus")){n=[];a.each(t,function(o,c){var d;
d=a("<option>");d.attr("value",o).html(c);return n.push(a(d))});h=function(o){var c,d;c=a(o);if(!(c.attr("selected")&&r))if(!(c.attr("value")===""&&c.html()===""&&!r))if(function(){var k,l,p;p=[];k=0;for(l=n.length;k<l;k++){d=n[k];d.attr("value")===c.attr("value")&&p.push(d)}return p}().length===0)return c.remove()};i=0;for(u=j.length;i<u;i++){g=j[i];h(g)}j=e.find("option");h=function(o){var c,d,k,l,p;d=false;k=function(A){if(a(A).attr("value")===o.attr("value"))return d=true};l=0;for(p=j.length;l<
p;l++){c=j[l];k(c)}if(!d)return e.append(o)};i=0;for(u=n.length;i<u;i++){g=n[i];h(g)}g=f.val();if(a.isEmptyObject(t)){h=a("<option>");h.addClass("no-results");h.html(b.noresultsText+" '"+g+"'").attr("value","");e.append(h)}else e.change();e.trigger("liszt:updated");a(".no-results").removeClass("active-result");f.val(g);if(!a.isEmptyObject(t)){g=a.Event("keydown");g.which=40;f.trigger(g)}if(x)return x(t)}})},b.delay)})}})(jQuery)}).call(this);
